{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onBlur","updateStatus","onChange","e","currentTarget","autoFocus","ProfileInfo","profile","className","styles","wrapperProfile","profileBg","src","alt","descriptionBlock","photos","large","userPhoto","nameBlock","fullName","Loader","Post","item","message","likesCount","MyPosts","React","memo","console","log","postsElements","posts","map","data","key","id","postsBlock","ReduxPostsForm","onSubmit","values","addPost","newPostText","reduxForm","form","handleSubmit","Field","name","component","Textarea","placeholder","validate","requiredField","maxLength10","MyPostsContainer","connect","state","profilePage","postsData","Profile","ProfileContainer","userId","match","params","this","authorizedUserId","history","setProfile","getStatus","clearUserProfile","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/3.8aa58695.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperProfile\":\"ProfileInfo_wrapperProfile__lpZl3\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3r16Y\",\"profileBg\":\"ProfileInfo_profileBg__29mJ9\",\"userPhoto\":\"ProfileInfo_userPhoto__3idTz\",\"nameBlock\":\"ProfileInfo_nameBlock__1DJ7j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2STwC\",\"posts\":\"MyPosts_posts__Bt5a5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1dDcU\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, {useState, useEffect} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!editMode && (\r\n        <div onDoubleClick={activateEditMode}>{props.status || '------'}</div>\r\n      )}\r\n      {editMode && (\r\n        <div onBlur={deactivateEditMode}>\r\n          <input onChange={onStatusChange} value={status} autoFocus={true} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React from 'react';\r\nimport styles from './ProfileInfo.module.css';\r\nimport userPhoto from '../../../assets/images/user.png';\r\nimport Loader from '../../Loader/Loader';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) => {\r\n  if (!profile) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.wrapperProfile}>\r\n      <div>\r\n        <img\r\n          className={styles.profileBg}\r\n          src='https://filedn.com/ltOdFv1aqz1YIFhf4gTY8D7/ingus-info/BLOGS/Photography-stocks3/stock-photography-slider.jpg'\r\n          alt=''\r\n        />\r\n      </div>\r\n      <div className='ava' className={styles.descriptionBlock}>\r\n        <div>\r\n          <img\r\n            src={\r\n              profile.photos.large !== null ? profile.photos.large : userPhoto\r\n            }\r\n            className={styles.userPhoto}\r\n          />\r\n        </div>\r\n        <div className={styles.nameBlock}>\r\n          <div>{profile.fullName}</div>\r\n          <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from 'react';\r\nimport styles from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={styles.item}>\r\n      <img\r\n        src='https://image.freepik.com/free-photo/image-human-brain_99433-298.jpg'\r\n        alt='ava'\r\n      />\r\n      {props.message}\r\n      <div>\r\n        <span>like</span>\r\n        {props.likesCount}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport styles from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {reduxForm, Field} from 'redux-form';\r\nimport {requiredField, maxLength10} from '../../../utils/validators/validators';\r\nimport {Textarea} from '../../../common/FormsControls/FormsControls';\r\n\r\nconst MyPosts = React.memo((props) => {\r\n  console.log('componentDidUpdate');\r\n\r\n  let postsElements = props.posts.map((data) => (\r\n    <Post message={data.message} likesCount={data.likesCount} key={data.id} />\r\n  ));\r\n\r\n  let onAddPost = (values) => {\r\n    props.addPost(values.newPostText);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.postsBlock}>\r\n      <h3>My posts</h3>\r\n      <div>\r\n        <ReduxPostsForm onSubmit={onAddPost} />\r\n      </div>\r\n      <div className={styles.posts}>{postsElements}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst PostsForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          name='newPostText'\r\n          component={Textarea}\r\n          placeholder='Enter your post text'\r\n          validate={[requiredField, maxLength10]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button>Add post</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst ReduxPostsForm = reduxForm({form: 'postsForm'})(PostsForm);\r\n\r\nexport default MyPosts;\r\n","import MyPosts from './MyPosts';\r\nimport {addPost} from '../../../redux/profile-reducer';\r\nimport {connect} from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.postsData,\r\n    newPostText: state.profilePage.newPostText,\r\n  };\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {addPost})(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from 'react';\r\nimport styles from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n      />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from './Profile';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n  setProfile,\r\n  getStatus,\r\n  updateStatus,\r\n  clearUserProfile,\r\n} from '../../redux/profile-reducer';\r\nimport {withRouter, Redirect} from 'react-router-dom';\r\nimport {compose} from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n  userId = this.props.match.params.userId;\r\n  componentDidMount() {\r\n    if (!this.userId) {\r\n      this.userId = this.props.authorizedUserId;\r\n      if (!this.userId) {\r\n        this.props.history.push('login');\r\n      }\r\n    }\r\n    this.props.setProfile(this.userId);\r\n    this.props.getStatus(this.userId);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clearUserProfile();\r\n  }\r\n\r\n  render() {\r\n    // if (!this.userId && this.props.isAuth === false)\r\n    //   return <Redirect to='/login' />;\r\n\r\n    return <Profile {...this.props} />;\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizedUserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    setProfile,\r\n    getStatus,\r\n    updateStatus,\r\n    clearUserProfile,\r\n  }),\r\n  withRouter\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}