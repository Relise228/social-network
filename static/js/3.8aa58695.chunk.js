(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[3],{294:function(e,t,a){},295:function(e,t,a){e.exports={wrapperProfile:"ProfileInfo_wrapperProfile__lpZl3",descriptionBlock:"ProfileInfo_descriptionBlock__3r16Y",profileBg:"ProfileInfo_profileBg__29mJ9",userPhoto:"ProfileInfo_userPhoto__3idTz",nameBlock:"ProfileInfo_nameBlock__1DJ7j"}},296:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__2STwC",posts:"MyPosts_posts__Bt5a5"}},297:function(e,t,a){e.exports={item:"Post_item__1dDcU"}},298:function(e,t,a){"use strict";a.r(t);var n=a(36),r=a(37),o=a(39),s=a(38),l=a(0),i=a.n(l),u=(a(294),a(97)),c=a(295),p=a.n(c),m=a(106),f=a.n(m),d=a(41);var h=a(96);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(i){r=!0,o=i}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}}(e,t)||Object(h.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){var t=v(Object(l.useState)(!1),2),a=t[0],n=t[1],r=v(Object(l.useState)(e.status),2),o=r[0],s=r[1];Object(l.useEffect)((function(){s(e.status)}),[e.status]);return i.a.createElement("div",null,!a&&i.a.createElement("div",{onDoubleClick:function(){n(!0)}},e.status||"------"),a&&i.a.createElement("div",{onBlur:function(){n(!1),e.updateStatus(o)}},i.a.createElement("input",{onChange:function(e){s(e.currentTarget.value)},value:o,autoFocus:!0})))},b=function(e){var t=e.profile,a=e.status,n=e.updateStatus;return t?i.a.createElement("div",{className:p.a.wrapperProfile},i.a.createElement("div",null,i.a.createElement("img",{className:p.a.profileBg,src:"https://filedn.com/ltOdFv1aqz1YIFhf4gTY8D7/ingus-info/BLOGS/Photography-stocks3/stock-photography-slider.jpg",alt:""})),i.a.createElement("div",Object(u.a)({className:"ava"},"className",p.a.descriptionBlock),i.a.createElement("div",null,i.a.createElement("img",{src:null!==t.photos.large?t.photos.large:f.a,className:p.a.userPhoto})),i.a.createElement("div",{className:p.a.nameBlock},i.a.createElement("div",null,t.fullName),i.a.createElement(E,{status:a,updateStatus:n})))):i.a.createElement(d.a,null)},g=a(296),P=a.n(g),y=a(297),_=a.n(y),k=function(e){return i.a.createElement("div",{className:_.a.item},i.a.createElement("img",{src:"https://image.freepik.com/free-photo/image-human-brain_99433-298.jpg",alt:"ava"}),e.message,i.a.createElement("div",null,i.a.createElement("span",null,"like"),e.likesCount))},S=a(86),j=a(128),I=a(83),O=a(33),B=i.a.memo((function(e){console.log("componentDidUpdate");var t=e.posts.map((function(e){return i.a.createElement(k,{message:e.message,likesCount:e.likesCount,key:e.id})}));return i.a.createElement("div",{className:P.a.postsBlock},i.a.createElement("h3",null,"My posts"),i.a.createElement("div",null,i.a.createElement(w,{onSubmit:function(t){e.addPost(t.newPostText)}})),i.a.createElement("div",{className:P.a.posts},t))})),w=Object(j.a)({form:"postsForm"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement(S.a,{name:"newPostText",component:O.c,placeholder:"Enter your post text",validate:[I.c,I.a]})),i.a.createElement("div",null,i.a.createElement("button",null,"Add post")))})),N=B,x=a(93),T=a(16),C=Object(T.b)((function(e){return{posts:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),{addPost:x.a})(N),D=function(e){return i.a.createElement("div",null,i.a.createElement(b,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),i.a.createElement(C,null))},U=a(10),A=a(8),z=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).userId=e.props.match.params.userId,e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.userId||(this.userId=this.props.authorizedUserId,this.userId||this.props.history.push("login")),this.props.setProfile(this.userId),this.props.getStatus(this.userId)}},{key:"componentWillUnmount",value:function(){this.props.clearUserProfile()}},{key:"render",value:function(){return i.a.createElement(D,this.props)}}]),a}(i.a.Component);t.default=Object(A.d)(Object(T.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setProfile:x.e,getStatus:x.d,updateStatus:x.f,clearUserProfile:x.b}),U.f)(z)}}]);
//# sourceMappingURL=3.8aa58695.chunk.js.map